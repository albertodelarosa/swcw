=BootstrapHelper::Panel.new(class: 'primary') do |panel|
  -panel.heading() do
    -panel.title(name: "legend") do
      .h3 sign in
  -panel.body() do
    .container
      =form_for(resource, :as => resource_name, :url => session_path(resource_name), html: {class: 'form-horizontal', role: 'form'}) do |main_f|
        .row
          = main_f.label :email, class: "col-xs-5 text-center"
          = main_f.label :or, class: "col-xs-2 text-center"
          = main_f.label :username, class: "col-xs-5 text-center"
        .form-group
          .col-xs-6
            = main_f.text_field :email, placeholder: "email", class: "form-control", autofocus: true
          .col-xs-6
            = main_f.text_field :username, placeholder: "username", class: "form-control col-xs-12", autofocus: true

        .form-group
          = main_f.label :password, class: "sr-only"
          = main_f.password_field :password, placeholder: "password", class: "form-control col-xs-12"
        .form-group
          .btn-group.btn-group-justified{role: "group"}
            .btn-group{role: "group"}
              = main_f.submit "sign in", class: 'btn btn-success'
        - if devise_mapping.omniauthable?
          .form-group
            .btn-group.btn-group-justified{role: "group"}
              - resource_class.omniauth_providers.each do |provider|
                .btn-group{role: "group"}
                  = link_to "#{provider.to_s.titleize}", omniauth_authorize_path(resource_name, provider), class: "btn btn-primary", role: "button"
        - if devise_mapping.recoverable?
          .form-group
            .btn-group.btn-group-justified{"aria-label" => "...", :role => "group"}
              - if controller_name != 'passwords' && controller_name != 'registrations'
                .btn-group{:role => "group"}
                  = link_to "forgot password", new_password_path(resource_name), class: "btn btn-info btn-xs", role: "button"
              - if controller_name != 'confirmations'
                .btn-group{:role => "group"}
                  = link_to "resend confirmation", new_confirmation_path(resource_name), class: "btn btn-info btn-xs", role: "button"
              - if devise_mapping.lockable? && resource_class.unlock_strategy_enabled?(:email) && controller_name != 'unlocks'
                .btn-group{:role => "group"}
                  = link_to "resend unlock", new_unlock_path(resource_name), class: "btn btn-info btn-xs", role: "button"
  -panel.footer() do
    .btn-group.btn-group-justified{role: "group"}
      .btn-group{role: "group"}
        %button.btn.btn-primary{data: {toggle: "modal", target: "#welcome_modal"}}register

