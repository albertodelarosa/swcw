.row
  .col-ms-12.col-md-12
    - if @companies.empty?
      = form_for [:dashboard, @company], method: "post", html: {class: "form-horizontal", role: "form"} do |f|
        - if @company.errors.any?
          #error_explanation
            %h2= "#{pluralize(@company.errors.count, "error")} prohibited this company from being saved:"
            %ul
              - @company.errors.full_messages.each do |msg|
                %li= msg
        = BootstrapHelper::Panel.new(contextual: 'primary', title:"") do |panel|
          - size = 12
          - panel.header_col(xs: size,sm: size,md:size,lg:size) do
            %h4= "Add a Company #{current_user.first_name}"
          - panel.body do
            = render partial: 'dashboard/companies/form', locals: {f: f}
          - panel.footer do 
            .col-xs-8.col-sm-8.col-md-8.col-lg-8
            .col-xs-2.col-sm-2.col-md-2.col-lg-2
              = link_to "Cancel", :back, class: "btn btn-danger btn-block"
            .col-xs-2.col-sm-2.col-md-2.col-lg-2
              = f.submit 'Add', class: "btn btn-success btn-block"
    - else
      -@companies.each do |company|
        = BootstrapHelper::Panel.new(contextual: 'primary', title:"") do |panel|
          - size = 3
          - panel.header_col(class: 'edit', xs: 4,sm: size,md:size,lg:size) do
            .h4
              = link_to edit_dashboard_company_path(company) do
                %span.glyphicon.glyphicon-edit
                edit
          - size = 8
          - panel.header_col(class: 'name', xs: 6,sm: size,md:size,lg:size) do
            .h4= company.name
          - size = 1
          - panel.header_col(class: 'delete', xs: 2,sm: size,md:size,lg:size) do
            .h4
              = link_to dashboard_company_path(company), :method => :delete, :data => { :confirm => 'Are you sure?' } do
                %span.glyphicon.glyphicon-trash
          - panel.body do
            .col-xs-12.col-sm-4.col-md-3
              = image_tag("holder.png", class: "img-responsive")
            .col-xs-12.col-sm-8.col-md-9
              .well.col-xs-12
                %ul.list-group
                  %h4.lead Contact Info
                  = render partial: "dashboard/dashboards/tab_panes/list_group_item", locals: {label: "Corporate Email", output: company.corporate_email_domain}
                  = render partial: "dashboard/dashboards/tab_panes/list_group_item", locals: {label: "email", output: company.contact_info.email}
                  = render partial: "dashboard/dashboards/tab_panes/list_group_item", locals: {label: "mobile", output: company.contact_info.mobile}
                  = render partial: "dashboard/dashboards/tab_panes/list_group_item", locals: {label: "phone1", output: company.contact_info.phone1}
                  = render partial: "dashboard/dashboards/tab_panes/list_group_item", locals: {label: "ext", output: company.contact_info.ext}
                  = render partial: "dashboard/dashboards/tab_panes/list_group_item", locals: {label: "phone2", output: company.contact_info.phone2}
                  = render partial: "dashboard/dashboards/tab_panes/list_group_item", locals: {label: "fax", output: company.contact_info.fax}
              .well.col-xs-12
                %ul.list-group
                  %h4.lead Address Info
                  = render partial: "dashboard/dashboards/tab_panes/list_group_item", locals: {label: "street1", output: company.address.street1}
                  = render partial: "dashboard/dashboards/tab_panes/list_group_item", locals: {label: "street2", output: company.address.street2}
                  = render partial: "dashboard/dashboards/tab_panes/list_group_item", locals: {label: "city", output: company.address.city}
                  = render partial: "dashboard/dashboards/tab_panes/list_group_item", locals: {label: "state", output: company.address.state}
                  = render partial: "dashboard/dashboards/tab_panes/list_group_item", locals: {label: "zip", output: company.address.zip}

